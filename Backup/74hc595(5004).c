/**************************************************************************************************
* 功能:                              74HC595
*        
* 文件:  74hc595.c
*        
* 说明:  
*        
* 作者:  日南方  2/29/2020
**************************************************************************************************/

#define __74HC595_C__
/* ------------------------------------------- include ----------------------------------------- */


/* ------------------------------------- define/typedef/enum ----------------------------------- */


/* ------------------------------------------- variable ---------------------------------------- */


/* -------------------------------------------static funtion ----------------------------------------- */
#ifdef STATIC_FUNCTION
#endif	/* STATIC_FUNCTION */


/* -------------------------------------------global funtion ----------------------------------------- */
#ifdef GLOBAL_FUNCTION
#endif	/* GLOBAL_FUNCTION */

//anew 8 bit
void Digital_74HC595(unsigned char data)
{
	unsigned char data_i;
	//Anti-logic
	//data=~data;
	//初始下降沿保持准备
	SCK_L;
	RCK_L;
	for(data_i=0;data_i<8;data_i++)
	{
		SCK_L;
		if(data&0x80)
		{
			SI_H;
		}else{
			SI_L;
		}
		data=data<<1;
		SCK_H;
	}
	SCK_L;
	RCK_H;
	RCK_L;
}


